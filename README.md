# Subscription Aggregator API

## Описание

**Subscription Aggregator** — HTTP API‑сервис на Go для управления пользовательскими подписками.  
Поддерживает регистрацию пользователей, полный набор CRUD‑операций с подписками, подсчёт суммарной стоимости за период и авторизацию через JWT.

## Возможности

- Регистрация и аутентификация пользователей (JWT)
- Создание, чтение, обновление и удаление подписок
- Получение списка подписок с пагинацией
- Подсчёт суммарной стоимости подписок с фильтрацией
- Хранение данных в PostgreSQL с оптимизированными индексами
- Кэширование данных в Redis
- Валидация входных данных с подробным описанием ошибок
- Структурированное логирование запросов и ошибок
- Swagger/OpenAPI документация ко всем эндпоинтам
- Graceful shutdown сервера

## Технологии

- Go 1.23.1
- PostgreSQL 17
- Redis 7
- JWT (github.com/golang-jwt/jwt/v5)
- bcrypt для хэширования паролей
- Chi router
- go-playground/validator
- slog для структурированного логирования
- Swagger через swaggo
Сервисы, которые поднимаются:

- PostgreSQL (порт 5433 локально)
- Redis (порт 6379)
- Go API‑сервис (порт 8080)

## Основные эндпоинты

| Метод  | Путь                          | Описание                                               |
|--------|-------------------------------|--------------------------------------------------------|
| POST   | /api/v1/register              | Регистрация                                            |
| POST   | /api/v1/login                 | Логин, получение JWT                                   |
| POST   | /api/v1/subscriptions/        | Создание подписки                                      |
| GET    | /api/v1/subscriptions/{id}    | Получение подписки по ID                               |
| PUT    | /api/v1/subscriptions/{id}    | Обновление подписки                                    |
| DELETE | /api/v1/subscriptions/{id}    | Удаление подписки                                      |
| GET    | /api/v1/subscriptions/list    | Получение списка подписок                              |
| POST   | /api/v1/subscriptions/sum     | Подсчёт суммы подписок с фильтрами                     |
